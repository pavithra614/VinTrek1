<template>
    <div class="service-provider-home-page">
        <!-- Navigation Bar -->
        <c-navigation-bar></c-navigation-bar>
        
        <!-- Loading Spinner -->
        <template if:true={isLoading}>
            <div class="slds-is-relative slds-p-around_medium">
                <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
            </div>
        </template>
        
        <!-- Access Denied Message -->
        <template if:false={hasAccess}>
            <template if:false={isLoading}>
                <div class="slds-p-around_medium">
                    <div class="slds-notify slds-notify_alert slds-alert_error" role="alert">
                        <span class="slds-assistive-text">Error</span>
                        <h2>Access Denied: You do not have permission to view this page.</h2>
                    </div>
                </div>
            </template>
        </template>
        
        <!-- Service Provider Dashboard -->
        <template if:true={hasAccess}>
            <div class="slds-grid slds-gutters">
                <div class="slds-col slds-size_12-of-12">
                    <lightning-card title="Service Provider Dashboard" icon-name="custom:custom57">
                        <div class="slds-p-horizontal_small">
                            <p class="slds-text-body_regular slds-p-bottom_medium">
                                Welcome to the VinTrek Service Provider Portal. Use the tabs below to manage your services and bookings.
                            </p>
                            
                            <lightning-tabset variant="scoped" active-tab-value={activeTab}>
                                <lightning-tab label="Dashboard" value="dashboard" onactive={handleTabChange}>
                                    <div class="slds-p-around_medium">
                                        <div class="slds-grid slds-gutters slds-wrap">
                                            <!-- Dashboard Stats -->
                                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3 slds-p-around_x-small">
                                                <div class="slds-box slds-box_x-small slds-p-around_medium stat-box">
                                                    <div class="slds-media">
                                                        <div class="slds-media__figure">
                                                            <lightning-icon icon-name="standard:service_appointment" size="small"></lightning-icon>
                                                        </div>
                                                        <div class="slds-media__body">
                                                            <h3 class="slds-text-heading_small">Active Bookings</h3>
                                                            <p class="slds-text-heading_large">12</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3 slds-p-around_x-small">
                                                <div class="slds-box slds-box_x-small slds-p-around_medium stat-box">
                                                    <div class="slds-media">
                                                        <div class="slds-media__figure">
                                                            <lightning-icon icon-name="standard:product_item" size="small"></lightning-icon>
                                                        </div>
                                                        <div class="slds-media__body">
                                                            <h3 class="slds-text-heading_small">Available Items</h3>
                                                            <p class="slds-text-heading_large">45</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3 slds-p-around_x-small">
                                                <div class="slds-box slds-box_x-small slds-p-around_medium stat-box">
                                                    <div class="slds-media">
                                                        <div class="slds-media__figure">
                                                            <lightning-icon icon-name="standard:customer" size="small"></lightning-icon>
                                                        </div>
                                                        <div class="slds-media__body">
                                                            <h3 class="slds-text-heading_small">Total Customers</h3>
                                                            <p class="slds-text-heading_large">78</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </lightning-tab>
                                
                                <lightning-tab label="Manage Inventory" value="inventory" onactive={handleTabChange}>
                                    <div class="slds-p-around_medium slds-text-align_center">
                                        <p>Inventory management will be implemented here</p>
                                    </div>
                                </lightning-tab>
                                
                                <lightning-tab label="Bookings" value="bookings" onactive={handleTabChange}>
                                    <div class="slds-p-around_medium slds-text-align_center">
                                        <p>Booking management will be implemented here</p>
                                    </div>
                                </lightning-tab>
                                
                                <lightning-tab label="Reports" value="reports" onactive={handleTabChange}>
                                    <div class="slds-p-around_medium slds-text-align_center">
                                        <p>Reports will be implemented here</p>
                                    </div>
                                </lightning-tab>
                            </lightning-tabset>
                        </div>
                    </lightning-card>
                </div>
            </div>
        </template>
    </div>
</template>
